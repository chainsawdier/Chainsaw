<!DOCTYPE html><!DOCTYPE html><!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Formulário para Download de PDF</title>
    <style>
      #demo {
        background-color: #fff;
        width: 400px;
        height: 400px;
      }
      .red {
        background-color: red;
        width: 50px;
        height: 50px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Formulário para Eventos</h1>
      <form action="enviar.php" method="POST">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required /><br />

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" required /><br />

        <label for="endereco">Endereço do Evento:</label>
        <input type="text" id="endereco" name="endereco" required /><br />

        <label for="data">Data do Evento:</label>
        <input type="date" id="data" name="data" required /><br />

        <label for="hora-montagem">Hora de Montagem:</label>
        <input
          type="time"
          id="hora-montagem"
          name="hora-montagem"
          required
        /><br />

        <label for="hora-desmonte">Hora de Desmonte:</label>
        <input
          type="time"
          id="hora-desmonte"
          name="hora-desmonte"
          required
        /><br />

        <label for="email">E-mail:</label>
        <input type="email" id="email" name="email" required /><br />

        <label for="telefone">Telefone:</label>
        <input type="tel" id="telefone" name="telefone" required /><br />

        <label for="itens">Itens:</label>
        <ul>
          <li>
            <input
              type="checkbox"
              id="kit"
              name="itens[]"
              value="Kit Pegue e monte"
            /><label for="kit">Kit Pegue e monte</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="piscina1"
              name="itens[]"
              value="Piscina de bolinhas de 1,50"
            /><label for="piscina1">Piscina de bolinhas de 1,50</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="piscina2"
              name="itens[]"
              value="Piscina de bolinhas 2,00"
            /><label for="piscina2">Piscina de bolinhas 2,00</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="pula230"
              name="itens[]"
              value="Pula pula 2,30"
            /><label for="pula230">Pula pula 2,30</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="pula200"
              name="itens[]"
              value="Pula pula 2,00"
            /><label for="pula200">Pula pula 2,00</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="tombo"
              name="itens[]"
              value="Tombo legal"
            /><label for="tombo">Tombo legal</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="gangorra-dupla"
              name="itens[]"
              value="Gangorra dupla"
            /><label for="gangorra-dupla">Gangorra dupla</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="gangorra-simples"
              name="itens[]"
              value="Gangorra Simples"
            /><label for="gangorra-simples">Gangorra simples</label>
          </li>
          <li>
            <input
              type="checkbox"
              id="escorrega"
              name="itens[]"
              value="Escorregador"
            /><label for="escorrega">Escorregador</label>
          </li>
        </ul>
        <br />
        <button type="button" onclick="download()">Enviar</button>
      </form>

      <div id="demo"></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script>
      function download() {
        // Obter os valores dos campos do formulário
        var nome = document.getElementById("nome").value;
        var cpf = document.getElementById("cpf").value;
        var endereco = document.getElementById("endereco").value;
        var data = document.getElementById("data").value;
        var horaMontagem = document.getElementById("hora-montagem").value;
        var horaDesmonte = document.getElementById("hora-desmonte").value;
        var email = document.getElementById("email").value;
        var telefone = document.getElementById("telefone").value;
        var itens = [];
        var checkboxes = document.querySelectorAll(
          'input[name="itens[]"]:checked'
        );
        for (var i = 0; i < checkboxes.length; i++) {
          itens.push(checkboxes[i].value);
        }

        var element = document.getElementById("demo"); // Elemento a ser convertido em PDF
        var w = element.offsetWidth;
        var h = element.offsetHeight;
        var offsetTop = element.offsetTop;
        var offsetLeft = element.offsetLeft;
        var canvas = document.createElement("canvas");
        var abs = 0;
        var win_i = window.innerWidth;
        var win_o = window.outerWidth;
        if (win_o > win_i) {
          abs = (win_o - win_i) / 2;
        }
        canvas.width = w * 2;
        canvas.height = h * 2;
        var context = canvas.getContext("2d");
        context.scale(2, 2);
        context.translate(-offsetLeft - abs, -offsetTop);
        html2canvas(element).then(function (canvas) {
          var imgData = canvas.toDataURL("image/png", 1.0);
          var pdf = new jsPDF();
          pdf.text("Contrato", 10, 10);
          pdf.text("Nome: " + nome, 10, 20);
          pdf.text("CPF: " + cpf, 10, 20);
          pdf.text("Endereço do Evento: " + endereco, 10, 30);
          pdf.text("Data do Evento: " + data, 10, 40);
          pdf.text("Hora de Montagem: " + horaMontagem, 10, 50);
          pdf.text("Hora de Desmonte: " + horaDesmonte, 10, 60);
          pdf.text("E-mail: " + email, 10, 70);
          pdf.text("Telefone: " + telefone, 10, 80);
          for (var i = 0; i < itens.length; i++) {
            pdf.text("Itens: " + itens[i], 10, 90 + i * 10);
          }
          pdf.save("contrato.pdf"); // Salva o PDF com o nome "contrato.pdf"
        });
      }
    </script>
  </body>
</html>


